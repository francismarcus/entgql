interface Node {
  id: ID!
}

scalar Cursor

type PageInfo {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: Cursor
  endCursor: Cursor
}

type Tweet implements Node {
  id: ID!
  user: User
}

type User implements Node {
  id: ID!
  created_at: String!
  updated_at: String!
  email: String!
  username: String!
  programs(
    after: Cursor
    first: Int
    before: Cursor
    last: Int
  ): ProgramConnection
  followers(
    after: Cursor
    first: Int
    before: Cursor
    last: Int
  ): UserConnection
  follows(after: Cursor, first: Int, before: Cursor, last: Int): UserConnection
}

type UserEdge {
  node: User
  cursor: Cursor
}

type UserConnection {
  pageInfo: PageInfo
  edges: [UserEdge]
}

type Program implements Node {
  id: ID!
  name: String!
}

type ProgramEdge {
  node: Program
  cursor: Cursor
}

type ProgramConnection {
  pageInfo: PageInfo
  edges: [ProgramEdge]
}

input createUserInput {
  username: String!
  email: String!
  password: String!
}

input createProgramInput {
  name: String!
  creator: ID!
}

input followUserInput {
  followID: ID!
  userID: ID!
}

input unFollowUserInput {
  followID: ID!
  userID: ID!
}

input loginUserInput {
  username: String!
  password: String!
}

input signupUserInput {
  email: String!
  username: String!
  password: String!
}

type AuthPayload {
  user: User
  token: String
}

input usernameAvailableInput {
  username: String!
}

type Query {
  node(id: ID!): Node
  ping: String!
  usernameAvailable(input: usernameAvailableInput!): Boolean
  loginUser(input: loginUserInput!): AuthPayload
  signupUser(input: signupUserInput!): AuthPayload
  users(after: Cursor, first: Int, before: Cursor, last: Int): UserConnection
}

type Mutation {
  createUser(input: createUserInput!): User!
  createProgram(input: createProgramInput!): Program!
  followUser(input: followUserInput!): User
  unFollowUser(input: unFollowUserInput!): User
}
